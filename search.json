[{"path":"https://noaa-edab.github.io/atlantisdiagnostics/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sarah Gaichas. Author. Andy Beet. Author, maintainer. Joeseph Caracappa. Author. Robert Gamble. Author. Ryan Morse. Author.","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gaichas S, Beet , Caracappa J, Gamble R, Morse R (2025). atlantisdiagnostics: Process Atlantis model output implements model performance diagnostics. R package version 0.0.0.9000, https://noaa-edab.github.io/atlantisdiagnostics/, https://github.com/NOAA-EDAB/atlantisdiagnostics.","code":"@Manual{,   title = {atlantisdiagnostics: Process Atlantis model output and implements model performance diagnostics},   author = {Sarah Gaichas and Andy Beet and Joeseph Caracappa and Robert Gamble and Ryan Morse},   year = {2025},   note = {R package version 0.0.0.9000, https://noaa-edab.github.io/atlantisdiagnostics/},   url = {https://github.com/NOAA-EDAB/atlantisdiagnostics}, }"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/index.html","id":"atlantisdiagnostics","dir":"","previous_headings":"","what":"Process Atlantis model output and implements model performance diagnostics","title":"Process Atlantis model output and implements model performance diagnostics","text":"diagnostics package primarily focuses two aspects: Processing plotting suite model properties Performance diagnostics (guided Kaplan Marshall1, 2016) quickly identify potential issues, example: Persistence: species/groups model persist set period time? Stability: species/groups reach acceptable steady state equilibrium? Reasonability: species/groups population biomass lie within reasonable bounds? 1A guinea pig’s tale: learning review end--end marine ecosystem models management application. ICES Journal Marine Science (2016) 73(7), 1715-1724","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Process Atlantis model output and implements model performance diagnostics","text":"","code":"remotes::install_github(\"NOAA-EDAB/atlantisdiagnostics\") pak::pak(\"NOAA-EDAB/atlantisdiagnostics\")"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/index.html","id":"team-members","dir":"","previous_headings":"Installation","what":"Team members","title":"Process Atlantis model output and implements model performance diagnostics","text":"Members Atlantis team alphabetical order:","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/index.html","id":"legal-disclaimer","dir":"","previous_headings":"Installation > Team members","what":"Legal disclaimer","title":"Process Atlantis model output and implements model performance diagnostics","text":"repository scientific product official communication National Oceanic Atmospheric Administration, United States Department Commerce. NOAA GitHub project code provided ‘’ basis user assumes responsibility use. claims Department Commerce Department Commerce bureaus stemming use GitHub project governed applicable Federal law. reference specific commercial products, processes, services service mark, trademark, manufacturer, otherwise, constitute imply endorsement, recommendation favoring Department Commerce. Department Commerce seal logo, seal logo DOC bureau, shall used manner imply endorsement commercial product activity DOC United States Government.  U.S. Department Commerce | National Oceanographic Atmospheric Administration | NOAA Fisheries","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/atlantisdiagnostics-package.html","id":null,"dir":"Reference","previous_headings":"","what":"atlantisdiagnostics: Tools for calibrating Atlantis ecosystem models — atlantisdiagnostics-package","title":"atlantisdiagnostics: Tools for calibrating Atlantis ecosystem models — atlantisdiagnostics-package","text":"Tools aid diagnosing issues parameterized Atlantis Ecosystem model","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/atlantisdiagnostics-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"atlantisdiagnostics: Tools for calibrating Atlantis ecosystem models — atlantisdiagnostics-package","text":"Determine functional group persistence time Determine functional group stability time Determine functional group biomass (relative historic data) lie within reasonable bounds Determine distribution biomass age classes Determine maximum size (length weight) species relative observations","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/atlantisdiagnostics-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"atlantisdiagnostics: Tools for calibrating Atlantis ecosystem models — atlantisdiagnostics-package","text":"learn using atlantisdiagnostics, start vignette: browseVignettes(package=\"atlantisdiagnostics\") click index ","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/atlantisdiagnostics-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"atlantisdiagnostics: Tools for calibrating Atlantis ecosystem models — atlantisdiagnostics-package","text":"Maintainer: Andy Beet andrew.beet@noaa.gov (ORCID) Authors: Sarah Gaichas Sarah.Gaichas@noaa.gov Joeseph Caracappa joseph.caracappa@noaa.gov Robert Gamble Robert.Gamble@noaa.gov Ryan Morse ryan.morse@noaa.gov (ORCID)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/compare_spatial_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates post-processing output for Atlantis — compare_spatial_vars","title":"Creates post-processing output for Atlantis — compare_spatial_vars","text":"Creates post-processing output Atlantis","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/compare_spatial_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates post-processing output for Atlantis — compare_spatial_vars","text":"","code":"compare_spatial_vars(   param.dir,   run.dirs,   run.names,   ref.data,   init.data,   out.dir,   out.name,   param.ls,   data.type = \"proportion\",   comparison.type = \"difference\",   ref.years,   speciesCodes = NULL,   plot = T )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/compare_spatial_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates post-processing output for Atlantis — compare_spatial_vars","text":"param.dir string. Path location atlantis parameter files run.dirs character vector paths location atlantis output files run.names character vector run names corresponding run.dirs ref.data dataframe  contains reference spatial data format (polygon|species|var.name|statistic|ref.value) init.data dataframe contains initial spatial data  format (polygon|species|var.name|statistic|init.value) .dir string. path desired location post-processed output .name string. name output file prefix param.ls list generated get_atl_paramfiles() data.type type data compared: 'proportion','value' comparison.type type comparison made: 'difference','scalar' ref.years numeric vector first last year (years start) comparison period speciesCodes character vector. List species make plots . Defaul = NULL (species) plot logical. want generate plot","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/compare_spatial_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates post-processing output for Atlantis — compare_spatial_vars","text":"Either saves R object returns list called \"result\" Author: Joseph Caracappa","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_cohortBiomass.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for distribution of biomass over age class — diag_cohortBiomass","title":"Test for distribution of biomass over age class — diag_cohortBiomass","text":"Determine age classes contain biomass compare neighboring age classes. species fails test biomass contained either smallest largest age class","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_cohortBiomass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for distribution of biomass over age class — diag_cohortBiomass","text":"","code":"diag_cohortBiomass(   fgs,   mortality,   agebiomind,   speciesCodes = NULL,   neusPriority,   fishedSpecies = 2 )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_cohortBiomass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for distribution of biomass over age class — diag_cohortBiomass","text":"fgs character string. Path location functional groups file. mortality character string. Path location Mort.txt file. agebiomind character string. Path location AgeBiomIndx file. speciesCodes Character vector. vector Atlantis species codes test persistence. (Default = NULL, uses species IsTurnedOn=1 fgs file) neusPriority character string. Path location Species Priorities file. fishedSpecies Numeric scalar. Filter much species fished. Values = 1 (), 2, 3, 4 (least) (Default = 2. species fished level <= 2 returned)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_cohortBiomass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test for distribution of biomass over age class — diag_cohortBiomass","text":"code Atlantis species code status Boolean indicating whether species passes test maxCohort Age class highes biomass stability  priority Scale defining priority species model, High (H), Low(L) fishing Scale defining level fishing, 1 highest","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_combine.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine all diagnostic output — diag_combine","title":"Combine all diagnostic output — diag_combine","text":"Using output tests (persistence, stability, reasonability), combined single data frame","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_combine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine all diagnostic output — diag_combine","text":"","code":"diag_combine(persistence, stability, reasonability)"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_combine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine all diagnostic output — diag_combine","text":"persistence Tibble. Output diag_persistence stability Tibble. Output diag_stability reasonability Tibble. Output diag_reasonability","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_combine.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine all diagnostic output — diag_combine","text":"data frame species common name species/functional group described Atlantis input file code Atlantis Code species/functional group persistence Indicating pass failure persistence test proportionInitBio Metric persistence. proportion initial biomass tminimumBiomass stability Indicating pass failure stability test relChange Metric stability. Rate increase relative t1Biomass(mtperyear/t1Biomass). see diag_stability reasonability Indicating pass failure reasonability test","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_fleet_catch.html","id":null,"dir":"Reference","previous_headings":"","what":"Test fleet catch — diag_fleet_catch","title":"Test fleet catch — diag_fleet_catch","text":"diag_fleet_catch determines whether simulated fleets catcht right magnitude spatial distribution catch last n years run.","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_fleet_catch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test fleet catch — diag_fleet_catch","text":"","code":"diag_fleet_catch(   fgs,   fishery.prm,   catch.file,   bgm,   catch.ref,   speciesCodes = NULL,   nYrs = 20,   min.dist = 100,   relChangeThreshold = 0.01 )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_fleet_catch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test fleet catch — diag_fleet_catch","text":"fgs character string. Path location functional groups file. fishery.prm character string. Path fishery definitions file. catch.file character string. Path catch nc file bgm character string. Path bgm file. catch.ref data.frame containing reference catch fleet data (species|fleet|polygon|ref.value) speciesCodes Character vector. vector Atlantis species codes test stability. nYrs Numeric scalar. Number years end time series stability must occur. min.dist Numeric Scalar. Maximum distance model reference center gravity relChangeThreshold Numeric Scalar. Maximum magnitude relative change slope (Default = 0.01)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_fleet_catch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test fleet catch — diag_fleet_catch","text":"Returns data frame species measure catch fleet criteria species common name species/functional group fleet fleet name fisheries file catch.model Double. mean catch mT last nYrs model catch.ref Double. reference catch (mT) cog.x.model Double. mean x-coordinate center gravity model cog.x.ref Double. mean x-coordinate center gravity reference cog.y.model Double. mean y-coordinate center gravity model cog.y.ref Double. mean y-coordinate center gravity reference dist Double. mean distance center gravity model reference catch.magnitude Logical. relative difference model refernece catch within +/- relChangeThreshold? catch.dist Logical. distance center gravity betwene model reference less min.dist?","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_maxsize.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for max fish size — diag_maxsize","title":"Test for max fish size — diag_maxsize","text":"Calculate average size fish time check see fish exceed user supplied observed maximum size. maximum weight maximum length used","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_maxsize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for max fish size — diag_maxsize","text":"","code":"diag_maxsize(   nc,   bgm,   init,   fgs,   prm_run,   prm_biol,   speciesStats,   speciesCodes = NULL )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_maxsize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for max fish size — diag_maxsize","text":"nc character string. Path location main nc file. bgm character string. Path location box coordinates bgm file. init character string. Path location initial conditions nc file. fgs character string. Path location functional groups file. prm_run character string. Path location run parameter file file. prm_biol character string. Path location biology parameter file. speciesStats Data frame. Must contain least 3 columns labeled code - Atlantis species codes ,maxObsWeight - value (g) indicating maximum weight species weigh, maxObsLength - value (cm) indicating maximum length species grow . speciesCodes Character vector. vector Atlantis species codes test large fish. (Default = NULL, uses species)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_maxsize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test for max fish size — diag_maxsize","text":"Returns data frame indicating species meet defined max weight/length criterion. species common name species/functional group code Atlantis Code species/functional group polygon Polygon largest individual occupies agecl Age class largest individual time Time largest individual found (Decimal years) maxLength Maximum length species Atlantis (cm) maxObsLength Maximum observed length species (cm) - litereature maxMeanWeight Maximum mean weight indivdual Atlantis (g) maxObsWeight Maximum observed weight species (g) - litereature passW Boolean indicating whether species maximum weight (Atlantis) falls max observed weight ratioW ratio atlantis max weight observed max weight passL Boolean indicating whether species maximum length (Atlantis) falls max observed length ratioL ratio atlantis max length observed max length","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_persistence.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for functional group persistence — diag_persistence","title":"Test for functional group persistence — diag_persistence","text":"Inspects time point. point time species falls predefined floor flagged. floors specifies proportion initial biomass. last n years run used test","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_persistence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for functional group persistence — diag_persistence","text":"","code":"diag_persistence(   fgs,   biomind,   speciesCodes = NULL,   nYrs = NULL,   floor = 0.1,   display = NULL,   tol = 1e-06 )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_persistence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for functional group persistence — diag_persistence","text":"fgs character string. Path location functional groups file. biomind character string. Path BiomIndx.txt file. speciesCodes Character vector. vector Atlantis species codes test persistence. (Default = NULL, uses species IsTurnedOn=1 fgs file) nYrs Numeric scalar. Number years end time series persistence must occur. (Default = NULL, persistence must occur throughout entire time series) floor Numeric scalar. Proportion initial biomass species measured . (Default = 0.1, species need 10% initial biomass). Range 0-1 display Boolean. Flag indicate whether return species pass test, fail test, species (Default = NULL) tol Numeric scalar. Tolerance level add biomass floor (Default = 1E-6)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_persistence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test for functional group persistence — diag_persistence","text":"Returns data frame species meet defined persistence criteria. species common name species/functional group code Atlantis Code species/functional group initialBiomass Starting value Biomass species/functional group minimumBiomass smallest value biomass observed run tminimumBiomass time step minimumBiomass occurred proportionInitBio proportion initial biomass tminimumBiomass t1 first time step persistence met tn last time step persistence met nts total number time steps persistence met pass Boolean. Indicates Atlantis group passed persistence test","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_persistence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test for functional group persistence — diag_persistence","text":"","code":"if (FALSE) { # \\dontrun{  # Declare paths to files required biomind <- paste(\"Full path to file\",\"xxxBiomIndx.txt\") fgs <- paste(\"Full path to file\",\"functioalGgroups.csv\")  # find all species that do not have biomass > 0 for any time during the run. diag_persistence(fgs,biomind,speciesCodes=NULL, nYrs = NULL, floor = 0)  # only evaluate herring. Require stability over the last 10 years of the run and all values should # exceed 10% of initial biomass diag_persistence(fgs,biomind, speciesCodes=\"HER\", nYrs = 10, floor = 0.1)  } # }"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_reasonability.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for functional group reasonability — diag_reasonability","title":"Test for functional group reasonability — diag_reasonability","text":"Inspects time point. point time species falls rises predefined bounds flagged. term \"reasonable\" based survey data available.","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_reasonability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for functional group reasonability — diag_reasonability","text":"","code":"diag_reasonability(   fgs,   biomind,   initialYr = 1964,   startYr = 1998,   speciesCodes = NULL,   realBiomass,   useVariance = F,   nYrs = NULL,   surveyBounds = c(1, 1),   initBioBounds = c(0.5, 10) )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_reasonability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for functional group reasonability — diag_reasonability","text":"fgs character string. Path location functional groups file. biomind character string. Path BiomIndx.txt file. initialYr Numeric Scalar. Year model run initiated. (Default = 1964) startYr Numeric Scalar. Year model finishes spin period. (Default = 1998) speciesCodes Character vector. vector Atlantis species codes test reasonableness (Default = NULL, uses species found  modelBiomass. Species codes subset Atlantis species codes realBiomass data frame. biomass time series (assessments, stock SMART otherwise) species. realBiomass long format column labels (YEAR,variable,value,Code,Species,isFishedSpecies) variable contain value = \"biomass\" (Biomass units metric tonnes) /\"var\" useVariance = T useVariance Boolean. use variance estimates biomass (included realBiomass) (Default = F, reverts using surveyBounds upper lover bounds) nYrs Numeric scalar. Number years end time series reasonableness checked. (Default = NULL, contemporary period startYr used) surveyBounds Numeric vector. Size 1x2 containing values multiple lower upper bounds observed data. example (Default = c(1,1)) indicating use min max observed biomass initBioBounds Numeric vector. Size 1x2 containing lower upper bound proportions used scale initial biomass. used groups/species dont surveys","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_reasonability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test for functional group reasonability — diag_reasonability","text":"Returns data frame species species common name species/functional group described Atlantis input file code Atlantis Code species/functional group initialBiomass Starting value Biomass species/functional group. model output minBiomass smallest value biomass observed run maxBiomass largest value biomass observed run propInitiBio maxBiomass proportion inintial biomass propBelowLower Magnitude lower bound excedence proportion lower threshold propAboveUpper Magnitude upper bound excedence proportion upper threshold maxExceedance max propBelowLower propAboveUpper t1 first year reasonableness met tn last year reasonableness met nts total number years reasonableness met modelSkill Measure goodness fit nObs number observations used goodness fit pass Boolean. Indicates Atlantis group passed reasonability test Character. Indicate pass determined. Atlantis species fished species stand alone species model survey data used assess reasonability. Otherwise deviations initial biomass used","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_reasonability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test for functional group reasonability — diag_reasonability","text":"","code":"if (FALSE) { # \\dontrun{ # Declare paths to files required  biomind <- paste(\"Full path to file\",\"xxxBiomIndx.txt\") fgs <- paste(\"Full path to file\",\"functionalGroups.csv\")  # read in survey biomass and convert to metric tons realBiomass <- readRDS(paste0(dataDir,\"sweptAreaBiomassNEUS.rds\")) %>%       dplyr::filter(variable %in% c(\"tot.biomass\")) %>%       dplyr::mutate(value=ifelse(grepl(\"kg$\",units),value/1000,value)) %>%       dplyr::select(-units)  # Perform reasonability test on all species/groups using the last 20 years of the run. # Allow species with data to be bounded by 100 x max observed biomass and 1 x min observed biomass. # For species without data allow model biomass to lie between 0.5 and 2 times initial biomass  diag_reasonability(fgs, biomind, initialYr = 1964, realBiomass=realBiomass, surveyBounds = c(1,100), initBioBounds = c(0.5,2))  # Only perform test on herring and white hake. diag_reasonability(fgs, biomind, initialYr = 1964, speciesCodes =c(\"MAK\",\"WHK\"),  realBiomass=realBiomass, surveyBounds = c(1,100), initBioBounds = c(0.5,2)) } # }"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Test for functional group stability — diag_stability","title":"Test for functional group stability — diag_stability","text":"diag_stability determines whether model reaches steady state last n years run. Stability loosely defined species/groups biomass reaching stable level (measured tolerable trend defined time range).","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test for functional group stability — diag_stability","text":"","code":"diag_stability(   fgs,   biomind,   initialYr = 1964,   speciesCodes,   nYrs = 20,   relChangeThreshold = 0.01 )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test for functional group stability — diag_stability","text":"fgs character string. Path location functional groups file. biomind character string. Path BiomIndx.txt file. initialYr Numeric Scalar. Year model run initiated. (Default = 1964) speciesCodes Character vector. vector Atlantis species codes test stability. (Default = NULL, uses species found  modelBiomass) nYrs Numeric scalar. Number years end time series stability must occur. (Default = 20 years) relChangeThreshold Numeric Scalar. Maximum magnitude relative change slope (Default = 0.01)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test for functional group stability — diag_stability","text":"Returns data frame species measure stability criterion code Atlantis Code species/functional group species common name species/functional group t1Fit Value fitted biomass first year data used fit mtPerYear Double. value slope parameter (year) relChange Rate increase relative t1Fit(mtPerYear/t1Fit) aveBio mean biomass last nYrs years pass Logical. species/group pass test stability","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Test for functional group stability — diag_stability","text":"Formally following model fit last n years run: $$biomass_t = \\mu + \\beta.t + \\epsilon_t  \\epsilon_t ~ IID N(0,\\sigma^2)$$ null hypothesis,  $$H0:\\beta=0$$ Note: annual biomass used fitting. Species mean annual biomass < 1 metric ton last n years run considered stable. reported Fail test NaNs returned","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/diag_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test for functional group stability — diag_stability","text":"","code":"if (FALSE) { # \\dontrun{ # Declare paths to files required  biomind <- paste(\"Full path to file\",\"xxxBiomIndx.txt\") fgs <- paste(\"Full path to file\",\"functioalGgroups.csv\")  # Perform stability test on all species/groups using the last 20 years of the run diag_stability(fgs, biomind, nYrs = 20)  # Only perform test on herring and white hake. # Require stability over the last 10 years of the run and and use a # relative change in the slope = 0.01 as the criterion for pass or fail diag_stability(fgs,biomind, speciesCodes=c(\"HER\",\"WHK\"), nYrs = 10, relChangeThreshold = 0.01) } # }"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/get_atl_paramfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates a dataframe of atlantis parameter files based on standard output — get_atl_paramfiles","title":"Creates a dataframe of atlantis parameter files based on standard output — get_atl_paramfiles","text":"Creates dataframe atlantis parameter files based standard output","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/get_atl_paramfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates a dataframe of atlantis parameter files based on standard output — get_atl_paramfiles","text":"","code":"get_atl_paramfiles(param.dir, atl.dir, run.prefix, include_catch)"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/get_atl_paramfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates a dataframe of atlantis parameter files based on standard output — get_atl_paramfiles","text":"param.dir string. Path location atlantis parameter files atl.dir string. Path location atlantis output files run.prefix string. Name run. filename prefix atlantis output include_catch logical. Whether include catch output","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/get_atl_paramfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates a dataframe of atlantis parameter files based on standard output — get_atl_paramfiles","text":"list containing parameter file name full path file","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/make_atlantis_diagnostic_figures.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates standard diagnostic figures for Atlantis output — make_atlantis_diagnostic_figures","title":"Creates standard diagnostic figures for Atlantis output — make_atlantis_diagnostic_figures","text":"Used post processing routine process_atl_output. Creates full set diagnostic summary figures tables atlantis model run.","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/make_atlantis_diagnostic_figures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates standard diagnostic figures for Atlantis output — make_atlantis_diagnostic_figures","text":"","code":"make_atlantis_diagnostic_figures(   out.dir,   fig.dir,   atl.dir,   param.dir,   run.prefix,   run.name,   param.ls,   benthic.box,   benthic.level = 4,   plot.all,   plot.benthic,   plot.overall.biomass,   plot.biomass.timeseries,   plot.length.age,   plot.biomass.box,   plot.c.mum,   plot.sn.rn,   plot.recruits,   plot.numbers.timeseries,   plot.physics,   plot.growth.cons,   plot.cohort,   plot.diet,   plot.consumption,   plot.spatial.biomass,   plot.spatial.biomass.seasonal,   plot.catch,   plot.spatial.catch,   plot.weight,   plot.mortality )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/make_atlantis_diagnostic_figures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates standard diagnostic figures for Atlantis output — make_atlantis_diagnostic_figures","text":".dir string. Path desired output data saved fig.dir string. Path desired output figures saved atl.dir string. Path atlantis model output located param.dir string. Path atlantis parameter files located run.prefix sring. Prefix specified Atlantis.bat file begins output file run.name string. Prefered name use output file names param.ls list. Output get_atl_paramfiles benthic.box numeric. Box ID benthic plots benthic.level numeric. Level benthic plots (default 4 NEUS model) plot.Boolean. Global flag plotting everything plot.benthic logical. Benthic plots show timeseries benthic epibenthic groups one box plot.overall.biomass logical. Plots showing total biomass across functional groups stacked barplots plot.biomass.timeseries logical. Plots showing biomass-related timeseries various aggregations  reference points plot.length.age logical. Plots relating length-age relationship age-structured groups plot.biomass.box logical. Plots relating biomass grouped box plot.c.mum logical. Plots tables related tuning C mum parameters plot.sn.rn logical. Plots relating SN RN timeseries plot.recruits logical. Plots recruitment SSB timeseries plot.numbers.timeseries logical. Plots showing timeseries numbers (opposed biomass) plot.physics logical. Plots physical statevariables well fluxes plot.growth.cons logical. Plots relating growth consumption plot.cohort logical. Plots showing timeseries cohort across age-structured groups plot.diet logical. Plots showing predation consumption functional group plot.consumption Boolean. Plots showing consumption plot.spatial.biomass logical. Plots showing spatial (box/level) structure groups' biomass plot.spatial.biomass.seasonal logical. Plots showing spatial (box/level) structure groups' biomass plot.catch logical. Plots annual catch(mt) age based catch (numbers) age based %ages plot.spatial.catch logical. Plots showing spatial (box/level) structure groups' catch plot.weight logical. Plots maximum size fish size class domain plot.mortality logical. Plots Mortality (F, M1, M2) two output sources (Mort, SpecificMort)","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/make_atlantis_diagnostic_figures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates standard diagnostic figures for Atlantis output — make_atlantis_diagnostic_figures","text":"series figures tables based output grouping flags Author: Ryan Morse, modified J. Caracappa","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_atl_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates post-processing output for Atlantis — process_atl_output","title":"Creates post-processing output for Atlantis — process_atl_output","text":"Creates post-processing output Atlantis","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_atl_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates post-processing output for Atlantis — process_atl_output","text":"","code":"process_atl_output(   param.dir,   atl.dir,   out.dir = file.path(atl.dir, \"Post_Processed/Data/\"),   run.prefix,   param.ls,   agg.scale = \"day\",   large.file = F,   system,   process.all = F,   plot.all = F,   plot.benthic = F,   plot.overall.biomass = F,   plot.biomass.timeseries = F,   plot.length.age = F,   plot.biomass.box = F,   plot.c.mum = F,   plot.sn.rn = F,   plot.recruits = F,   plot.numbers.timeseries = F,   plot.physics = F,   plot.growth.cons = F,   plot.cohort = F,   plot.diet = F,   plot.consumption = F,   plot.spatial.biomass = F,   plot.spatial.biomass.seasonal = F,   plot.catch = F,   plot.catch.fleet = F,   plot.spatial.catch = F,   plot.mortality = F,   plot.weight = F,   plot.spatial.overlap = F )"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_atl_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates post-processing output for Atlantis — process_atl_output","text":"param.dir string. Path location atlantis parameter files atl.dir string. path location atlantis output files .dir string. path desired location post-processed output run.prefix string. Prefix atlantis run output (specified runcommand.bat) param.ls list generated get_atl_paramfiles() agg.scale Scale aggregate dietcheck biomass (either 'raw','month', 'year' ) large.file Boolean. system String. \"Windows\" \"Linux\" process.Boolean. Global option process components plot.Boolean. Global flag plotting everything plot.benthic logical. Benthic plots show timeseries benthic epibenthic groups one box plot.overall.biomass logical. Plots showing total biomass across functional groups stacked barplots plot.biomass.timeseries logical. Plots showing biomass-related timeseries various aggregations  reference points plot.length.age logical. Plots relating length-age relationship age-structured groups plot.biomass.box logical. Plots relating biomass grouped box plot.c.mum logical. Plots tables related tuning C mum parameters plot.sn.rn logical. Plots relating SN RN timeseries plot.recruits logical. Plots recruitment SSB timeseries plot.numbers.timeseries logical. Plots showing timeseries numbers (opposed biomass) plot.physics logical. Plots physical statevariables well fluxes plot.growth.cons logical. Plots relating growth consumption plot.cohort logical. Plots showing timeseries cohort across age-structured groups plot.diet logical. Plots showing predation consumption functional group plot.consumption Boolean. Plots showing consumption plot.spatial.biomass logical. Plots showing spatial (box/level) structure groups' biomass plot.spatial.biomass.seasonal logical. Plots showing spatial (box/level) structure groups' biomass plot.catch logical. Plots annual catch(mt) age based catch (numbers) age based %ages plot.catch.fleet Boolean plot.spatial.catch logical. Plots showing spatial (box/level) structure groups' catch plot.mortality logical. Plots Mortality (F, M1, M2) two output sources (Mort, SpecificMort) plot.weight logical. Plots maximum size fish size class domain plot.spatial.overlap Boolean","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_atl_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates post-processing output for Atlantis — process_atl_output","text":"Either saves R object returns list called \"result\" Author: Ryan Morse, modified Joseph Caracappa","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_catch_fleet.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates post-processing Catch output for Atlantis — process_catch_fleet","title":"Creates post-processing Catch output for Atlantis — process_catch_fleet","text":"Reads catch output catch.nc file species, fleet, box, time","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_catch_fleet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates post-processing Catch output for Atlantis — process_catch_fleet","text":"","code":"process_catch_fleet(fishery.prm, catch, groups.file)"},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_catch_fleet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates post-processing Catch output for Atlantis — process_catch_fleet","text":"fishery.prm string. Path location atlantis fishery csv file catch string. path location atlantis catch output nc file groups.file string. path location atlantis functional groups csv file","code":""},{"path":"https://noaa-edab.github.io/atlantisdiagnostics/reference/process_catch_fleet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates post-processing Catch output for Atlantis — process_catch_fleet","text":"returns dataframe species long species name fleet fleet name polygon atlantis box/polygon number time time step atoutput metric tons Author: Joseph Caracappa","code":""}]
